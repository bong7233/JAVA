## JPA(Java Persistence API)
스프링은 db와 데이터를 주고받는 규칙이 있다.  
서버개발자는 스프링의 규칙에 맞는 코드를 작성하고  
만약 여러종류의 DB를 사용한다면 SQL도 여러개 작성해야한다.  
한마디로 일을 두 번 해야한다.  

이때 서버와 데이터베이스간의 연결(통역)역할을 하는것이 JPA 다.    
JPA가 코드를 SQL로 변환해주기 때문에 개발자가 SQL을 작성할 필요가 없어진다

즉, JPA가 서버와 db간의 독립적인 설계를 가능하게 하고 이것이 객체중심 개발의 기초가 된다

ORM (Object-Relational Mapping)은 객체(서버의 데이터들)과 Relational(관계형데이터베이스)를 연결해주는 것을 뜻한다.

Java의 ORM기술 표준이 JPA인 이유가 바로 JPA가 하는 역할이 정확히 ORM의 정의와 일치하기 때문이다. 

<br>


## 스프링의 구조
1. Controller : 가장 바깥 부분, 요청/응답을 자동으로 처리함(자동응답기)  
request 받기 + response 보내기  
        
2. Service : 중간 부분, 실제 중요한 작동이 많이 일어나는 부분(Update 는 Service 부분에 작성)  
repo에게 할 역할을 시키는부분  
(request받은 Dto로 DB에 저장할 객체 만들기)  
(DB에 상품이 존재하는지 확인시키기)  
현업에서는 service의 역할이 가장 크다  
    
3. Repository : 가장 안쪽 부분, DB와 맞닿아 있음(쿼리를 날리는 역할)  
JPA는 Repository(인터페이스)를 통해서만 사용할 수 있다  
( 인터페이스 : 맴버변수가없는 메소드모음집)  
(서비스에서 시킨 DB연결, DB쿼리작성, DB쿼리실행, 쿼리결과물 객체를 반환, DB연결해제)  

<br><br>
 
## Put, Patch
기존 API의 주요기능인 CRUD 중 Update에 사용되는 RestfulAPI의 기능이다
Put : 데이터의 전체를 수정할때 사용
Patch : 데이터의 부분만 수정할때 사용

<br><br>

## RDBMS
관계형 데이터베이스 (고도화된 엑셀이다)  


## H2
서버가 작동할때만 작동하는 데이터베이스, 초기 DB연습에 최적화되어있다  


## MYSQL
서비스를 배포할떄 사용하는 데이터베이스  
AWS의 RDS서비스를 사용하여 Spring과 연결  


## 데이터의 생성일자
데이터의 생성일자와 수정일자를 기록하는게 중요하다  



## Lombok
코드를 자동생성해주는 라이브러리

## DTO
데이터를 주고받을때 새로 클래스 만들어서 쓰자(기존의클래스 사용하지말자)


## API
클라 - 서버 간의 약속
클라가 Request -> 서버는 처리하여 Response

- REST : 생성POST / 조회GET / 수정PUT / 삭제DELETE
- 주소에 들어가는 명사는 복수형
- 주소에 동사는 가급적 사용하지않음

## ARC
Advanced REST Client
API의 테스트및 기능확인용 툴


## 컴포넌트 등록
스프링이 자동으로 필요한 클래스를 필요한곳에 생성하려면  
" 사용자가 요구하면 자동으로 생성할 클래스목록인가" 하고 확인할수 있어야하는데  
그 목록에 등록하는 간단한 방법이 컴포넌트 등록

## DI (의존성주입)

강한결합에는 문제점이 있다  
강한결합 : 하나의 컨트롤러가 하나의 서비스를 생성하고 그 서비스는 또 하나의 레포지토리를 생성하여 사용 (즉 컨트롤러가 여러개라면 서비스와 레포지토리를 매번 반복생성하여 여러개의 서비스와 레포지토리가 생성됨)  
만약 이미 생성된 레포지토리 형태를 바꿔야한다면? 컨트롤러와 컨트롤러 수 만큼 생성된 모든 레포지토리와 서비스를 모두 변경해주어야 한다.  
![strong](../img/strong.PNG)

이 강한결합의 문제점을 극복하기 위해서는 두가지를 지켜야한다
1. 각 객체에대한 객체생성은 딱1번만한다
2. 생성된 객체를 모든곳에서 재사용한다

즉 생성과정을 반대로 시행한다  
1. 먼저 레포지토리 클래스를 선언하고 객체를 생성한다
2. 서비스클래스를 선언하고 맴버변수로 1번에서 이미 생성한 레포지토리객체를 재사용한다
3. 컨트롤러를 선언하고 맴버변수로 2번에서 이미 생성한 서비스객체를 재사용한다  

![lean](../img/lean.PNG)

이렇게하면 처음에 생성된 레포지토리를 반복사용하기때문에, 레포지토리에 변경사항이 생겨도 다른 서비스와 컨트롤러의 코드를 일일이 수정해줄 필요가없어진다  
**이것을 느슨한 결합** 이라 한다  

그리고 이렇게 제어의 흐름이 반대로 바뀐것을  
**제어의 역전 IoC ( Inversion of Control )** 이라 하고  

즉 용도에맞게 이미 생성한 객체를 가져다 사용한다  
이것을 **의존성주입(DI)** 라고 한다  


## 팀과제


🔐 JPA 가 무엇인가요?  




🔐 Controller, Service, Repository 가 무엇인가요  



🔐 restAPI의 put 과 patch 는 어떤 차이점이 있을까요? 어떤 경우에 사용하면 좋을까요?  




🔐 우리가 브라우저에서 구매한 도메인 주소를 입력하면 만들어 놓은 aws EC2 서버까지 전달이 되어서 해당 서버에게 요청을 보낼 수 있습니다. 이 과정이 상세하게 어떻게 진행되는지 그림으로 한번 그려볼까요?




🔐 스프링 프레임워크는 어떤 특징 혹은 장점을 가지고 있나요? (3가지 이상)  





🔐 스프링에서 DI (의존성 주입) 를 사용하는 이유가 무엇인가요? 예를 통해 설명 해 보세요.  




🔐 스프링 시큐리티를 사용해 회원관리하는 방법을 순서도를 통해 정리해 보세요.  

🔐 개발자 테스트 코드 작성 시 장/단점과 테스트 종류 별 (단위 테스트, 통합 테스트, E2E 테스트) 로 특징은?  

🔐 ORM, JPA, Spring Data JPA 를 구분해서 설명해 보세요.  

🔐 Optional) 절차지향 프로그래밍, 객체지향 프로그래밍,  관점지향 프로그래밍은 각각 어떻게 다른가요? (각각 예제 1개 이상)  

