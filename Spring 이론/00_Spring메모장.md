
XSS 는 클라이언트를 , CSRF 는 서버를 공격한다.


XSS 는 사용자의 입력값을 제대로 검사하지 않을경우 발생한다.
만약 공격자가 올린 악성코드가 들어있는 게시글을 다른 사용자가 읽게되면 쿠키나 세션토큰 정보를 탈취당하고 시스템 자체도 공격할 수 있다.
인증된 세션이 없어도 공격가능하고, 자바스크립트를 실행시키는 방식으로 작동한다.

XSS를 방지하려면 쿠키에 중요한 정보를 담지않고 , 서버에 정보를 저장하면 된다.
혹은 정보를 암호화하고 httponly 속성으로 쿠키에 접속하는것을 막거나, 
인코딩을 사용하여 공격자가 입력해둔 값들을 무효화시키는 방법이 있다.



 CSRF 는 사용자가 로그인상태에서 위조공격코드가 삽입된 페이지를 열면, 그 사용자가 서버에게 신용받고있는 점을 이용하여 서버에 공격명령을 내린다.
인증된 세션을 악용하여 특정 행동을 강제로 시키는 공격이다.

CSRF는 백엔드에서 request의 referrer을 확인하여 domain정보가 일치하는지 검증하여 막을 수 있다.
Reffer검증이 불가능할때 Security Token을 사용할 수 있다. 사용자의 세션에 임의의 난수값을 저장해서, 사용자의 요청마다 난수값을 포함해서 전송한다. 그럼 백엔드에서 토큰값(난수+데이터)가 일치하는지 검증하면 공격을 막을 수 있다. 